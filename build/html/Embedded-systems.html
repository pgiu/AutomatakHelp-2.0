<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>&lt;no title&gt; &mdash; Automatak DNP3 Help 1.0.x documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0.x',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Automatak DNP3 Help 1.0.x documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="index.html">Automatak DNP3 Help 1.0.x documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <p>OpenDNP3 can be run on a variety of embedded systems. You&#8217;ll need a cross compiler for your particular hardware that&#8217;s up to date with C++0x support. Sub-bullets of this topic address embedded issues like memory usage and library size.</p>
<p>If you&#8217;re unfamiliar with cross compiling in general, I&#8217;d recommend getting an embedded Linux book.</p>
<p>### Raspberry Pi</p>
<p>The [Raspberry Pi](<a class="reference external" href="http://www.raspberrypi.org/">http://www.raspberrypi.org/</a>) is a great platform to start learning about cross-compiling. You can compile OpenDNP3 on the Pi itself, but since it&#8217;s a fairly large library, you&#8217;ll probably want to cross-compile.</p>
<p>Lots of different tool-chains will work, but [this guide](<a class="reference external" href="http://www.kitware.com/blog/home/post/426">http://www.kitware.com/blog/home/post/426</a>) can show you how to build one yourself using crosstool-ng. It can build crosstool chains for a variety of platforms like ARM, powerPC, etc. After you have a working toolchain, test it with some trivial example apps before proceeding with cross-compiling OpenDNP3.</p>
<p>The first step is to build boost for the Pi. Follow the directions [here](<a class="reference external" href="http://www.boost.org/boost-build2/doc/html/bbv2/tasks/crosscompile.html">http://www.boost.org/boost-build2/doc/html/bbv2/tasks/crosscompile.html</a>).  Remember, you only need Boost::System and Boost::Test.</p>
<p>With ARM libraries for Boost, you&#8217;re ready to use autotools to cross-compile. My invocation of configure looked like:</p>
<p><tt class="docutils literal"><span class="pre">`</span>
<span class="pre">env</span> <span class="pre">CPPFLAGS=&quot;-I/home/jadamcrain/x-tools/arm-unknown-linux-gnueabi/include&quot;</span> <span class="pre">./configure</span> <span class="pre">--host=arm-unknown-linux-gnueabi</span> <span class="pre">--build=i686-pc-linux-gnu</span> <span class="pre">--with-boost-libdir=/home/jadamcrain/x-tools/arm-unknown-linux-gnueabi/lib</span> <span class="pre">LDFLAGS=&quot;-lpthread&quot;</span> <span class="pre">CXXFLAGS=-Os</span>
<span class="pre">`</span></tt></p>
<p>You need to then copy your compiled Boost libraries and OpenDNP3 over to the PI using SCP or Filezilla (I personally prefer this).</p>
<p><tt class="docutils literal"><span class="pre">`</span>
<span class="pre">pi&#64;raspberrypi</span> <span class="pre">~</span> <span class="pre">$</span> <span class="pre">ls</span> <span class="pre">/usr/lib/libboost_*</span>
<span class="pre">/usr//lib/libboost_prg_exec_monitor.so.1.53.0</span>&nbsp; <span class="pre">/usr//lib/libboost_system.so.1.53.0</span>&nbsp; <span class="pre">/usr//lib/libboost_unit_test_framework.so.1.53.0</span>
<span class="pre">pi&#64;raspberrypi</span> <span class="pre">~</span> <span class="pre">$</span> <span class="pre">ls</span> <span class="pre">/usr/lib/libopendnp3*</span>
<span class="pre">/usr/lib/libopendnp3.so.1.0.1</span>
<span class="pre">`</span></tt></p>
<p>Before trying to write an applications using OpenDNP3 for your embedded system, make sure the test suite passes first. The test suite runs some pretty aggressive integration tests, so be patient with the little Pi. For less capable systems, you may want to turn down some of the integration testing.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>`
<a class="reference external" href="mailto:pi&#37;&#52;&#48;raspberrypi">pi<span>&#64;</span>raspberrypi</a> ~ $ ./dnp3test &#8211;show_progress</p>
<p>0%   10   20   30   40   50   60   70   80   90   100%
<a href="#id9"><span class="problematic" id="id10">|&#8212;-|</span></a>&#8212;-<a href="#id11"><span class="problematic" id="id12">|&#8212;-|</span></a>&#8212;-<a href="#id13"><span class="problematic" id="id14">|&#8212;-|</span></a>&#8212;-<a href="#id15"><span class="problematic" id="id16">|&#8212;-|</span></a>&#8212;-<a href="#id17"><span class="problematic" id="id18">|&#8212;-|</span></a>&#8212;-|
Running 458 test cases...
<strong>***********************************************</strong></p>
<p><a href="#id3"><span class="problematic" id="id4">**</span></a>* No errors detected
<a href="#id5"><span class="problematic" id="id6">``</span></a><a href="#id7"><span class="problematic" id="id8">`</span></a></p>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/Embedded-systems.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li><a href="index.html">Automatak DNP3 Help 1.0.x documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Alan Crain.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>